{"version":3,"sources":["logo.svg","firebase/firebase.util.js","components/sign-in/sign-in.component.jsx","pages/home-page/home-page.component.jsx","components/sign-up/sign-up.component.jsx","pages/resiter-page/register-page.component.jsx","pages/error-page/error-page.component.jsx","components/header/header.component.jsx","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","_auth","auth","_firestore","firestore","createUserDocument","userAuth","otherDetails","a","uid","console","log","userRef","doc","get","snapShot","exists","displayName","email","createdAt","Date","set","error","code","message","provider","GoogleAuthProvider","setCustomParameters","signInWithGoogle","signInWithPopup","SignIn","props","handleOnChange","event","target","name","value","setState","handleFormSubmit","preventDefault","signInWithEmailAndPassword","state","password","className","this","length","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","size","onChange","Button","variant","onClick","Component","HomePage","Container","fluid","Row","Col","xs","SignUp","confirmPassword","alert","createUserWithEmailAndPassword","user","username","email_error","password_error","RegisterPage","ErrorPage","Header","currentUser","Navbar","bg","to","Nav","signOut","App","unsubscribeSession","onAuthStateChanged","onSnapshot","snapshot","id","data","exact","path","component","render","React","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fa83ac95.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import firebase from 'firebase/app'\n\nimport 'firebase/auth'\nimport 'firebase/firestore'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyDWO0LNebW_cfXn8SDKmKQN-2_eD3AVPT8\",\n    authDomain: \"react-auth-test-92361.firebaseapp.com\",\n    databaseURL: \"https://react-auth-test-92361.firebaseio.com\",\n    projectId: \"react-auth-test-92361\",\n    storageBucket: \"react-auth-test-92361.appspot.com\",\n    messagingSenderId: \"933986394650\",\n    appId: \"1:933986394650:web:5ddf78efb51c8d5783a7a3\"\n  };\n\n\nfirebase.initializeApp(firebaseConfig)\n\nconst _auth = firebase.auth();\nconst _firestore = firebase.firestore();\n\nexport const createUserDocument = async (userAuth, otherDetails) => {\n\n    if(!userAuth) return;\n\n\n    const {uid} = userAuth;\n    console.log(uid);\n\n    const userRef = _firestore.doc(`users/${uid}`);\n    try{\n\n        const snapShot = await userRef.get();\n        console.log(userRef);\n        console.log(snapShot);\n        if(!snapShot.exists){\n            const {displayName, email} = userAuth;\n            const createdAt = new Date();\n            try{\n                await userRef.set({\n                    displayName,\n                    email,\n                    createdAt,\n                    ...otherDetails\n    \n                })\n\n                console.log(\"user account created\");\n            }\n            catch(error){\n                console.error(error.code, error.message);\n                throw error;\n            }\n\n            \n            \n        }\n\n    }\n    catch(error){\n        console.error(error.code, error.message);\n        throw error;\n    }\n    \n\n    return userRef;\n\n}\n\n\n\nvar provider = new firebase.auth.GoogleAuthProvider();\n\nprovider.setCustomParameters({\n    'login_hint': 'user@example.com'\n});\n\nexport const signInWithGoogle = ( )=> _auth.signInWithPopup(provider)\n\nexport const auth = _auth;\nexport const firestore = _firestore","import React, { Component } from \"react\";\n\nimport {Form, Button} from 'react-bootstrap'\n\nimport {auth, signInWithGoogle} from \"../../firebase/firebase.util\"\n\nimport \"./sign-in.styles.scss\"\n\nclass SignIn extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n      error: ''\n    }\n  }\n\n  handleOnChange = (event) => {\n\n    const {name, value} = event.target;\n    this.setState({[name]: value});\n\n  }\n\n  handleFormSubmit = async (event)=>{\n    event.preventDefault();\n\n    try{\n      await auth.signInWithEmailAndPassword(this.state.email,this.state.password)\n    }\n    catch(error){\n      console.error(error.code, error.message);\n      this.setState({error: error.message});\n      return;\n    }\n    \n    this.setState({email: '', password: ''});\n  }\n  \n  render() {\n    return (\n      <div>\n        <div className=\"h3\">I already have an account</div>\n        <span>Sign In with your email and password</span>\n        {this.state.error.length === 0 ? null : <div>{this.state.error}</div>}\n        <Form className=\"sign-in-form\" onSubmit={this.handleFormSubmit}>\n          <Form.Group controlId=\"formGroupEmail\">\n            <Form.Label>Email address</Form.Label>\n            <Form.Control type=\"email\" placeholder=\"Enter email\" name=\"email\" value={this.state.email} size=\"lg\" onChange={this.handleOnChange} />\n          </Form.Group>\n          <Form.Group controlId=\"formGroupPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"Password\" name=\"password\" value={this.state.password} size=\"lg\" onChange={this.handleOnChange}/>\n          </Form.Group>\n\n          <Button type=\"submit\" size=\"lg\" variant=\"outline-primary\">Sign In</Button>\n        </Form>\n        <p className=\"h4\">Other ways to SignIn with</p>\n        <div className=\"other-options\">\n          <div className=\"btn btn-warning w-100\" onClick={signInWithGoogle}>Sign In with Google</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SignIn;\n","import React from 'react'\n\nimport {Container, Row, Col} from 'react-bootstrap'\n\nimport SignIn from \"../../components/sign-in/sign-in.component\"\n\nimport \"./home-page.styles.scss\"\n\nfunction HomePage() {\n    return (\n        <div className=\"homepage\">\n            <Container fluid=\"md\">\n           <Row>\n               <Col xs={7}>\n                   <div className=\"intro-text\">\n                       <div className=\"main-content text-danger\">\n                        React Redux Bootstrap Firebase Authentication\n                       </div>\n                       <div className=\"tag-content\">\n                           - A Test Demo Project\n                       </div>\n                   </div>\n                </Col>\n               <Col xs={5}>\n                   <SignIn />\n               </Col>\n           </Row>\n       </Container>\n        </div>\n       \n    )\n}\n\nexport default HomePage\n","import React, { Component } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\n\n\nimport {auth, createUserDocument} from \"../../firebase/firebase.util\"\nimport \"./sign-up.styles.scss\";\n\nclass SignUp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n\n      email_error: \"\",\n      password_error: \"\",\n    };\n  }\n\n  handleOnChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleFormSubmit = async (event) => {\n    event.preventDefault();\n    console.log('submit event called')\n    if(this.state.password !== this.state.confirmPassword){\n        alert(\"Passwords should match\");\n    }\n\n    try{\n        let {user} = await auth.createUserWithEmailAndPassword(this.state.email, this.state.password);\n        // console.log('userCreds are',userAuth);\n        console.log(\"got user \", user.displayName, \" \", user.email);\n        await createUserDocument(user,{displayName: this.state.username})\n    }\n    catch(error){\n        console.error(error.code, error.message)\n        throw error;\n    }\n\n    this.setState({\n        username: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        email_error: '',\n        password_error: ''\n    })\n\n    \n    \n  };\n  render() {\n    return (\n      <div className=\"sign-up\">\n        <div className=\"h1\">I dont have an account</div>\n        <div>Fill up details to register an account</div>\n\n        <div className=\"errors\">\n          <p>{this.state.email_error}</p>\n          <p>{this.state.password_error}</p>\n        </div>\n\n        <Form className=\"sign-up-form\" onSubmit={this.handleFormSubmit}>\n          <Form.Group controlId=\"formGroupUsername\">\n            <Form.Label>Username</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter Username\"\n              name=\"username\"\n              value={this.state.username}\n              onChange={this.handleOnChange}\n              size=\"lg\"\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"formGroupEmail\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control\n              type=\"email\"\n              placeholder=\"Enter Email\"\n              name=\"email\"\n              value={this.state.email}\n              onChange={this.handleOnChange}\n              size=\"lg\"\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"formGroupPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              name=\"password\"\n              value={this.state.password}\n              onChange={this.handleOnChange}\n              size=\"lg\"\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"formGroupConfirmPassword\">\n            <Form.Label>Confirm Password</Form.Label>\n            <Form.Control\n              type=\"password\"\n              placeholder=\"Enter Password Again\"\n              name=\"confirmPassword\"\n              value={this.state.confirmPassword}\n              onChange={this.handleOnChange}\n              size=\"lg\"\n            />\n          </Form.Group>\n\n          <Button type=\"submit\" variant=\"warning\" size=\"lg\" className=\"text-center\">\n            Register\n          </Button>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default SignUp;\n","import React from 'react'\n\nimport SignUp from '../../components/sign-up/sign-up.component'\n\n// import SingUp from \"../../components/sign-up/sign-up.component\"\n\nimport \"./register-page.styles.scss\"\n\nfunction RegisterPage() {\n    return (\n        <div className=\"register-page\">\n            <SignUp />\n        </div>\n    )\n}\n\nexport default RegisterPage\n","import React from 'react'\n\nfunction ErrorPage() {\n    return (\n        <div>\n            <h1>Error page</h1>\n        </div>\n    )\n}\n\nexport default ErrorPage;\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport { Container, Navbar, Nav } from \"react-bootstrap\";\n\nimport {auth} from \"../../firebase/firebase.util\"\n\nfunction Header({currentUser}) {\n  return (\n    <div className=\"header\">\n      <Navbar bg=\"dark\" variant=\"dark\">\n        <Container>\n          <Link className='navbar-brand' to=\"/\">Bootstrap React Firebase</Link>\n          <Nav className=\"ml-auto\">\n            <Link className=\"nav-link\" to=\"/\">Home</Link>\n            {\n                currentUser ?\n                (<Link className=\"nav-link\" to=\"#\" onClick={()=> auth.signOut()}>Sign Out</Link>) :\n                <Link className=\"nav-link\" to=\"/register\">Register</Link>\n            }\n          </Nav>\n        </Container>\n      </Navbar>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from 'react'\n\nimport logo from './logo.svg';\n\nimport {Route, Switch, Redirect} from 'react-router-dom'\n\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport './App.css';\n\nimport HomePage from \"./pages/home-page/home-page.component\"\nimport RegisterPage from \"./pages/resiter-page/register-page.component\"\nimport ErrorPage from \"./pages/error-page/error-page.component\"\n\nimport Header from \"./components/header/header.component\"\n\nimport {auth, createUserDocument} from \"./firebase/firebase.util\"\n// import SignUp from './components/sign-up/sign-up.component';\n\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n\n    this.unsubscribeSession = null;\n\n    this.state = {\n      currentUser: null\n    }\n  }\n\n  componentDidMount(){\n    console.log(\"App component mounted\")\n\n    this.unsubscribeSession = auth.onAuthStateChanged(async (userAuth) => {\n      console.log(\"onAuthStateChanged event called\");\n      // console.log(user.displayName);\n      console.log(userAuth);\n      if(userAuth){\n\n        const userRef = await createUserDocument(userAuth)\n        this.setState({currentUser: userAuth})\n\n        userRef.onSnapshot((snapshot)=>{\n            this.setState({\n              currentUser:{\n                id: snapshot.id,\n                ...snapshot.data()\n              }\n            })\n          })\n      }\n\n      this.setState({currentUser: userAuth});\n\n    })\n  }\n\n  componentWillUnmount(){\n\n    if(this.unsubscribeSession){\n      this.unsubscribeSession();\n    }\n    \n    \n  }\n\n  render() {\n    console.log(\"app render\", this.state.currentUser);\n    return (\n      <div>\n        <Header currentUser={this.state.currentUser}/>\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          <Route exact path=\"/register\" render={() => this.state.currentUser ? (<Redirect to=\"/\" />): (<RegisterPage />) } />\n          <Route component={ErrorPage} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}